rbind(critical, non.critical) %>%
ggplot(mapping = aes(x = count, group = critical, fill = critical)) +
scale_fill_manual(values = c("#2980b9", "#27ae60")) +
geom_density(alpha = 2/3) +
lims(x = c(0, 50)) +
theme(axis.text.y = element_blank(),
axis.title.y = element_blank())
rbind(critical, non.critical) %>%
ggplot(mapping = aes(x = count, group = critical, fill = critical)) +
scale_fill_manual(values = c("#2980b9", "#27ae60")) +
geom_density(alpha = 2/3) +
lims(x = c(0, 50)) +
theme(axis.text.y = element_blank(),
axis.title.y = element_blank(),
legend.title = element_blank(),
legend.position="top",
legend.direction="horizontal",
legend.key.width=unit(0.5, "cm"),
legend.key.height=unit(0.25, "cm"),
legend.margin=unit(0,"cm"),
axis.title.y=element_blank()) +
labs(x = "Instances of violations",
title = "Here's a stinky plot")
rbind(critical, non.critical) %>%
ggplot(mapping = aes(x = count, group = critical, fill = critical)) +
scale_fill_manual(values = c("#2980b9", "#27ae60")) +
geom_density(alpha = 2/3) +
lims(x = c(0, 50)) +
theme(axis.text.y = element_blank(),
axis.title.y = element_blank(),
legend.title = element_blank(),
legend.position="top",
legend.direction="horizontal",
legend.key.width=unit(0.5, "cm"),
legend.key.height=unit(0.25, "cm"),
legend.margin=unit(0,"cm")) +
labs(x = "Instances of violations",
title = "Here's a stinky plot")
rbind(critical, non.critical) %>%
ggplot(mapping = aes(x = count, group = critical, fill = critical)) +
scale_fill_manual(values = c("#2980b9", "#27ae60")) +
geom_density(alpha = 2/3) +
lims(x = c(0, 50)) +
theme(axis.text.y = element_blank(),
axis.title.y = element_blank(),
legend.title = element_blank(),
legend.position="top",
legend.direction="horizontal",
legend.key.width=unit(0.5, "cm"),
legend.key.height=unit(0.25, "cm"),
legend.margin=unit(1,"cm")) +
labs(x = "Instances of violations",
title = "Here's a stinky plot")
rbind(critical, non.critical) %>%
ggplot(mapping = aes(x = count, group = critical, fill = critical)) +
scale_fill_manual(values = c("#2980b9", "#27ae60")) +
geom_density(alpha = 2/3) +
lims(x = c(0, 50)) +
theme(axis.text.y = element_blank(),
axis.title.y = element_blank(),
legend.title = element_blank(),
legend.position="top",
legend.direction="horizontal",
legend.key.width=unit(0.5, "cm"),
legend.key.height=unit(0.5, "cm"),
legend.margin=unit(1,"cm")) +
labs(x = "Instances of violations",
title = "Here's a stinky plot")
rbind(critical, non.critical) %>%
ggplot(mapping = aes(x = count, group = critical, fill = critical)) +
scale_fill_manual(values = c("#2980b9", "#27ae60")) +
geom_density(alpha = 2/3) +
lims(x = c(0, 50)) +
theme(axis.text.y = element_blank(),
axis.title.y = element_blank(),
legend.title = element_blank(),
legend.position="top",
legend.direction="horizontal",
legend.key.width=unit(0.5, "cm"),
legend.key.height=unit(0.25, "cm"),
legend.margin=unit(1,"cm")) +
labs(x = "Instances of violations",
title = "Here's a stinky plot")
rbind(critical, non.critical) %>%
ggplot(mapping = aes(x = count, group = critical, fill = critical)) +
scale_fill_manual(values = c("#2980b9", "#27ae60")) +
geom_density(alpha = 2/3) +
lims(x = c(0, 50)) +
theme(axis.text.y = element_blank(),
axis.title.y = element_blank(),
legend.title = element_blank(),
legend.position="top",
legend.direction="horizontal",
legend.key.width=unit(0.5, "cm"),
legend.key.height=unit(0.35, "cm"),
legend.margin=unit(1,"cm")) +
labs(x = "Instances of violations",
title = "Here's a stinky plot")
rbind(critical, non.critical) %>%
ggplot(mapping = aes(x = count, group = critical, fill = critical)) +
scale_fill_manual(values = c("#2980b9", "#27ae60")) +
geom_density(alpha = 2/3) +
lims(x = c(0, 50)) +
theme(axis.text.y = element_blank(),
axis.title.y = element_blank(),
legend.title = element_blank(),
legend.position="top",
legend.direction="horizontal",
legend.key.width=unit(0.5, "cm"),
legend.key.height=unit(0.25, "cm"),
legend.margin=unit(1, "in")) +
labs(x = "Instances of violations",
title = "Here's a stinky plot")
rbind(critical, non.critical) %>%
ggplot(mapping = aes(x = count, group = critical, fill = critical)) +
scale_fill_manual(labels = c("Critical", "Not Critical"),
values = c("#2980b9", "#27ae60")) +
geom_density(alpha = 2/3) +
lims(x = c(0, 50)) +
theme(axis.text.y = element_blank(),
axis.title.y = element_blank(),
legend.title = element_blank(),
legend.position="top",
legend.direction="horizontal",
legend.key.width=unit(0.5, "cm"),
legend.key.height=unit(0.25, "cm"),
legend.margin=unit(1, "in")) +
labs(x = "Instances of violations",
title = "Here's a stinky plot")
rbind(critical, non.critical) %>%
ggplot(mapping = aes(x = count, group = critical, fill = critical)) +
scale_fill_manual(labels = c("Critical   ", "Not Critical"),
values = c("#2980b9", "#27ae60")) +
geom_density(alpha = 2/3) +
lims(x = c(0, 50)) +
theme(axis.text.y = element_blank(),
axis.title.y = element_blank(),
legend.title = element_blank(),
legend.position="top",
legend.direction="horizontal",
legend.key.width=unit(0.5, "cm"),
legend.key.height=unit(0.25, "cm"),
legend.margin=unit(1, "in")) +
labs(x = "Instances of violations",
title = "Here's a stinky plot")
rbind(critical, non.critical) %>%
ggplot(mapping = aes(x = count, group = critical, fill = critical)) +
scale_fill_manual(labels = c("Critical  ", "Not Critical"),
values = c("#2980b9", "#27ae60")) +
geom_density(alpha = 2/3) +
lims(x = c(0, 50)) +
theme(axis.text.y = element_blank(),
axis.title.y = element_blank(),
legend.title = element_blank(),
legend.position="top",
legend.direction="horizontal",
legend.key.width=unit(0.5, "cm"),
legend.key.height=unit(0.25, "cm"),
legend.margin=unit(1, "in")) +
labs(x = "Instances of violations",
title = "Here's a stinky plot")
rbind(critical, non.critical) %>%
ggplot(mapping = aes(x = count, group = critical, fill = critical)) +
scale_fill_manual(labels = c("Critical  ", "Not Critical"),
values = c("#2980b9", "#27ae60")) +
geom_density(alpha = 2/3) +
lims(x = c(0, 50)) +
theme(axis.text.y = element_blank(),
axis.title.y = element_blank(),
legend.title = element_blank(),
legend.position="top",
legend.direction="horizontal",
legend.key.width=unit(0.5, "cm"),
legend.key.height=unit(0.25, "cm"),
legend.margin=unit(1, "in")) +
labs(x = "Instances of violations",
title = "Here's a stinky plot")
rbind(critical, non.critical) %>%
ggplot(mapping = aes(x = count, group = critical, fill = critical)) +
scale_fill_manual(labels = c("Critical  ", "Not Critical"),
values = c("#2980b9", "#27ae60")) +
geom_density(alpha = 2/3) +
lims(x = c(0, 50)) +
theme(axis.text.y = element_blank(),
axis.title.y = element_blank(),
legend.title = element_blank(),
legend.position = "top",
legend.direction = "horizontal",
legend.key.width = unit(0.5, "cm"),
legend.key.height = unit(0.25, "cm"),
legend.margin = unit(1, "in")) +
labs(x = "Instances of violations",
title = "Here's a stinky plot")
rbind(critical, non.critical) %>%
ggplot(mapping = aes(x = count, group = critical, fill = critical)) +
scale_fill_manual(labels = c("Critical  ", "Not Critical"),
values = c("#2980b9", "#27ae60")) +
geom_density(alpha = 2/3) +
lims(x = c(0, 50)) +
theme(axis.text.y = element_blank(),
axis.title.y = element_blank(),
legend.title = element_blank(),
legend.position = "top",
legend.direction = "horizontal",
legend.key.width = unit(0.5, "cm"),
legend.key.height = unit(0.25, "cm"),
legend.margin = unit(1, "in")) +
labs(x = "Instances of violations",
title = "Density Distribution of inspection violations by severity")
rbind(critical, non.critical) %>%
ggplot(mapping = aes(x = count, group = critical, fill = critical)) +
scale_fill_manual(labels = c("Critical  ", "Not Critical"),
values = c("#2980b9", "#27ae60")) +
geom_density(alpha = 2/3) +
lims(x = c(0, 50)) +
theme(axis.text.y = element_blank(),
axis.title.y = element_blank(),
legend.title = element_blank(),
legend.position = "top",
legend.direction = "horizontal",
legend.key.width = unit(0.5, "cm"),
legend.key.height = unit(0.25, "cm"),
legend.margin = unit(1, "in")) +
labs(x = "Instances of violations",
subtitle = "Density Distribution of inspection violations by severity")
rbind(critical, non.critical) %>%
ggplot(mapping = aes(x = count, group = critical, fill = critical)) +
scale_fill_manual(labels = c("Critical  ", "Not Critical"),
values = c("#2980b9", "#27ae60")) +
geom_density(alpha = 2/3) +
lims(x = c(0, 50)) +
theme(axis.text.y = element_blank(),
axis.title.y = element_blank(),
legend.title = element_blank(),
legend.position = "top",
legend.direction = "horizontal",
legend.key.width = unit(0.5, "cm"),
legend.key.height = unit(0.25, "cm"),
legend.margin = unit(1, "in"),
plot.title = element_text(hjust = 0.5)) +
labs(x = "Instances of violations",
subtitle = "Density Distribution of inspection violations by severity")
?get_theme()
rbind(critical, non.critical) %>%
ggplot(mapping = aes(x = count, group = critical, fill = critical)) +
scale_fill_manual(labels = c("Critical  ", "Not Critical"),
values = c("#2980b9", "#27ae60")) +
geom_density(alpha = 2/3) +
lims(x = c(0, 50)) +
theme(axis.text.y = element_blank(),
axis.title.y = element_blank(),
legend.title = element_blank(),
legend.position = "top",
legend.direction = "horizontal",
legend.key.width = unit(0.5, "cm"),
legend.key.height = unit(0.25, "cm"),
legend.margin = unit(1, "in"),
plot.title = element_text(hjust = 0.5)) +
labs(x = "Instances of violations",
title = "Density Distribution of inspection violations by severity")
rbind(critical, non.critical) %>%
ggplot(mapping = aes(x = count, group = critical, fill = critical)) +
scale_fill_manual(labels = c("Critical  ", "Not Critical"),
values = c("#2980b9", "#27ae60")) +
geom_density(alpha = 2/3) +
lims(x = c(0, 50)) +
theme(axis.text.y = element_blank(),
axis.title.y = element_blank(),
legend.title = element_blank(),
legend.position = "top",
legend.direction = "horizontal",
legend.key.width = unit(0.5, "cm"),
legend.key.height = unit(0.25, "cm"),
legend.margin = unit(1, "in"),
plot.subtitle = element_text(hjust = 0.5)) +
labs(x = "Instances of violations",
subtitle = "Density Distribution of inspection violations by severity")
rbind(critical, non.critical) %>% select(count) %>% unique
rbind(critical, non.critical) %>% select(count) %>% table
rbind(critical, non.critical) %>% select(critical) %>% table
rbind(critical, non.critical) %>%
ggplot(mapping = aes(x = count, group = critical, fill = critical)) +
scale_fill_manual(labels = c("Critical  ", "Not Critical"),
values = c("#2980b9", "#27ae60")) +
geom_density(alpha = 2/3) +
lims(x = c(0, 50)) +
theme(axis.text.y = element_blank(),
axis.title.y = element_blank(),
legend.title = element_blank(),
legend.position = "top",
legend.direction = "horizontal",
legend.key.width = unit(0.5, "cm"),
legend.key.height = unit(0.25, "cm"),
legend.margin = margin(t = 1, b = 1, l = 1, r = 1, unit = "cm"),
plot.subtitle = element_text(hjust = 0.5)) +
labs(x = "Instances of violations",
subtitle = "Density Distribution of inspection violations by severity")
rbind(critical, non.critical) %>%
ggplot(mapping = aes(x = count, group = critical, fill = critical)) +
scale_fill_manual(labels = c("Critical  ", "Not Critical"),
values = c("#2980b9", "#27ae60")) +
geom_density(alpha = 2/3) +
lims(x = c(0, 50)) +
theme(axis.text.y = element_blank(),
axis.title.y = element_blank(),
legend.title = element_blank(),
legend.position = "top",
legend.direction = "horizontal",
legend.key.width = unit(0.5, "cm"),
legend.key.height = unit(0.25, "cm"),
plot.subtitle = element_text(hjust = 0.5)) +
labs(x = "Instances of violations",
subtitle = "Density Distribution of inspection violations by severity")
rbind(critical, non.critical) %>%
ggplot(mapping = aes(x = count, group = critical, fill = critical)) +
scale_fill_manual(labels = c("Critical  ", "Not Critical"),
values = c("#2980b9", "#27ae60")) +
geom_density(alpha = 2/3) +
lims(x = c(0, 50)) +
theme(axis.text.y = element_blank(),
axis.title.y = element_blank(),
legend.title = element_blank(),
legend.position = "top",
legend.direction = "horizontal",
legend.key.width = unit(0.5, "cm"),
legend.key.height = unit(0.25, "cm"),
plot.subtitle = element_text(hjust = 0.5)) +
labs(x = "Instances of violations",
subtitle = "Density Distribution of inspection violations by severity")
first.last.percentages %>%
complete(nesting(grade.first), grade.last,
fill = list(percent.of.start = 0)) %>%
ggplot(mapping = aes(x = grade.first, y = grade.last)) +
geom_tile(aes(fill = percent.of.start)) +
scale_fill_gradient(low = "beige", high = "red", guide = "none") +
geom_text(aes(label = paste(percent.of.start, "%", sep = ""))) +
scale_x_discrete(limits = c("Z", "P", "Not Yet Graded", "C", "B", "A"),
labels = function(x) str_wrap(x, width = 7)) +
scale_y_discrete(limits = c("Z", "P", "Not Yet Graded", "C", "B", "A"),
labels = function(x) str_wrap(x, width = 7)) +
labs(x = "First inspection grade", y = "Most recent inspection grade",
title = "Restaurant grades over time",
subtitle = "Comparing initial vs most recent inspection grades and grade retention")
first.last.percentages %>%
complete(nesting(grade.first), grade.last,
fill = list(percent.of.start = 0)) %>%
ggplot(mapping = aes(x = grade.first, y = grade.last)) +
geom_tile(aes(fill = percent.of.start)) +
scale_fill_gradient(low = "beige", high = "red", guide = "none") +
geom_text(aes(label = paste(percent.of.start, "%", sep = ""))) +
scale_x_discrete(limits = c("Z", "P", "Not Yet Graded", "C", "B", "A"),
labels = function(x) str_wrap(x, width = 7)) +
scale_y_discrete(limits = c("Z", "P", "Not Yet Graded", "C", "B", "A"),
labels = function(x) str_wrap(x, width = 7)) +
theme(plot.margin = margin(t = 0.5, b = 0.5,
l = 0.5, r = 0.5, unit = "in")) +
labs(x = "First inspection grade", y = "Most recent inspection grade",
title = "Restaurant grades over time",
subtitle = "Comparing initial vs most recent inspection grades and grade retention")
violations %>%
filter(!is.na(inspection.date) &
!grepl("Establishment Closed by DOHMH.", x = action)) %>%
group_by(camis) %>%
arrange(inspection.date) %>%
filter(row_number() == n()) %>%
ungroup(camis) %>%
mutate(restaurant.name = stringr::str_to_title(dba)) %>%
select(restaurant.name, score, cuisine.description,
boro, inspection.date) %>%
arrange(desc(score)) %>%
head %>%
kable
rbind(critical, non.critical) %>%
ggplot(mapping = aes(x = count, group = critical, fill = critical)) +
scale_fill_manual(labels = c("Critical  ", "Not Critical"),
values = c("#2980b9", "#27ae60")) +
geom_density(alpha = 2/3) +
lims(x = c(0, 50)) +
theme(axis.text.y = element_blank(),
axis.title.y = element_blank(),
legend.title = element_blank(),
legend.position = "top",
legend.direction = "horizontal",
legend.key.width = unit(0.5, "cm"),
legend.key.height = unit(0.25, "cm"),
plot.subtitle = element_text(hjust = 0.5)) +
labs(x = "Violation instances",
subtitle = "Density Distribution of inspection violations by severity")
violations %>%
filter(!is.na(inspection.date) &
!grepl("Establishment Closed by DOHMH.", x = action)) %>%
group_by(camis) %>%
arrange(inspection.date) %>%
filter(row_number() == n()) %>%
ungroup(camis) %>%
mutate(restaurant.name = stringr::str_to_title(dba)) %>%
select(restaurant.name, score, cuisine.description,
boro, inspection.date) %>%
arrange(desc(score)) %>%
head %>%
kable
# Some behind-the-curtains setup
library(knitr)
library(tidyverse)
library(broom)
library(stringr)
library(scales)
library(ggthemes)
library(tidyr)
knitr::opts_chunk$set(
cache = TRUE,
warning = FALSE,
message = FALSE,
dpi = 180,
comment = "#>",
collapse = TRUE
)
options(width=80)
theme_set(theme_minimal(base_family="Menlo") +
theme(plot.title=element_text(family="Menlo")))
violations %>%
filter(!is.na(inspection.date) &
!grepl("Establishment Closed by DOHMH.", x = action)) %>%
group_by(camis) %>%
arrange(inspection.date, score) %>%
filter(row_number() == n()) %>%
ungroup(camis) %>%
mutate(restaurant.name = stringr::str_to_title(dba)) %>%
select(restaurant.name, score, cuisine.description,
boro, inspection.date) %>%
arrange(desc(score)) %>%
head %>%
kable
violations %>%
filter(!is.na(inspection.date) &
!grepl("Establishment Closed by DOHMH.", x = action)) %>%
group_by(camis) %>%
arrange(inspection.date) %>%
filter(row_number() == n()) %>%
ungroup(camis) %>%
mutate(restaurant.name = stringr::str_to_title(dba)) %>%
select(restaurant.name, score, cuisine.description,
boro, inspection.date) %>%
arrange(desc(score)) %>%
head %>%
kable
violations %>%
filter(!is.na(inspection.date) &
!grepl("Establishment Closed by DOHMH.", x = action)) %>%
group_by(camis) %>%
arrange(inspection.date, score) %>%
filter(row_number() == n()) %>%
ungroup(camis) %>%
mutate(restaurant.name = stringr::str_to_title(dba)) %>%
select(restaurant.name, score, cuisine.description,
boro, inspection.date) %>%
arrange(desc(score)) %>%
head %>%
kable
# Some behind-the-curtains setup
library(knitr)
library(tidyverse)
library(broom)
library(stringr)
library(scales)
library(ggthemes)
library(tidyr)
knitr::opts_chunk$set(
cache = TRUE,
warning = FALSE,
message = FALSE,
dpi = 180,
comment = "#>",
collapse = TRUE
)
options(width=80)
theme_set(theme_minimal(base_family="Menlo") +
theme(plot.title=element_text(family="Menlo")))
library(shiny); runApp('Untitled.R')
library(shiny)
ui <- fluidPage("Hello world!")
server <- function(input, output) {}
shinyApp(ui = ui, server = server)
runApp('Untitled.R')
runApp('Untitled.R')
runApp('shiny-templates')
install.packages('rsconnect')
rsconnect::setAccountInfo(name='dataframing', token='88C4F5C8748611C9875BFF2A22B6E95D', secret='DMk4BwILE7/IOIUWKVDGQwVqHmJBo+SmAXPjcoXD')
runApp('shiny-templates/0-intro.R')
runApp('shiny-templates/1-reactive.R')
runApp('shiny-templates/1-reactive.R')
runApp('shiny-templates/1-reactive.R')
tags$h1
tags$h2
tags$h3
tags$a()
tags$h1("Yo")
tags$a(href = "www.rstudio.com", "RStudio")
?tags
setwd("~/Documents/github-projects/exploratorium/NYC-Restaurants/restaurant-app/")
runApp('NYC-Restaurants')
install.packages("shinydashboard")
devtools::install_github("rstudio/shinydashboard")
runApp('NYC-Restaurants')
runApp('NYC-Restaurants')
runApp('NYC-Restaurants')
runApp()
runApp()
setwd("..")
getwd
getwd()
runApp('restaurant-app')
